.. _quadplane-esc-calibration:

ESC calibration
===============

PWM 기반의 대부분 ESC들은 동일한 입력에 대해서 동일한 속도로 반응하도록 칼리브레이션이 필요하다.
ESC를 칼리브레이션하기 위해서 초기 전원을 줄때 최대 PWM 입력을 받고 다음으로 최소 PWM 입력을 받는다. beep음이 최대값이 등록되었다는 시점에 최소 PWM을 받는다.

ESC를 칼리브레이션하는 방법은 ArduPilot의 버전에 따라 달라진다. 예전 방식은 3.6.0 이전 버전이고 3.6.0 이후가 새로운 방식이다.

.. warning::
   ESC 칼리브레이션을 시작하기 전에 비행체의 모든 프로펠러를 제거한다. 프로펠러가 장착된 상태로 칼리브레이션하는 것은 위험한다.

ESC 칼리브레이션 절차 (ESC Calibration Procedure (3.6.0 and later))
-------------------------------------------

:ref:`Q_ESC_CAL <Q_ESC_CAL>` 파라미터를 이용해서 QSTABILIZE 모드에서 ESC 칼리브레이션을 활성화시킨다. 가능한 2가지 모드가 있다.:

#. Q\_ESC_CAL=1 : 모터에 대한 출력은 비행체가 arming되었을때 QSTABILIZE 모드에서 쓰로틀 스틱으로부터 직접 오게 한다.
#. Q\_ESC_CAL=2 : 모터에 대한 출력은 모터가 arming되었을때 full 쓰로틀이 된다.

Q\_ESC_CAL=1을 사용하는 절차는

#. 안전을 위해서 프로펠러를 제거
#. Pixhawk에만 전원 넣기. ESC에 별도 전원을 줄 수 없다면 USB로 Pixhawk에 전원넣기.
#. Q\_ESC_CAL 파라미터를 1로 설정하기
#. QSTABILIZE 모드로 변경
#. 출력을 활성화시키기 위해서 스위치를 off로 설정
#. 비행체 arming. 이제는 모든 quad 모터에 PWM 출력은 쓰로틀 스틱으로 제어된다.
#. 쓰로틀 스틱을 최대로 이동시키기
#. 배터리 연결해서 ESC에 전원 넣기
#. 최대 PWM이 등록되었다는 것을 알리는 beep음이 날때까지 기다리기
#. 쓰로틀 스틱을 0으로 내리고 비행체 disarm 시키기
#. ESC에서 beep음이 들리면 쓰로틀 range가 등록되었다는 뜻이다.

Q\_ESC_CAL=2을 사용하는 절차는

#. 안전을 위해서 프로펠러를 제거
#. Pixhawk에만 전원 넣기. ESC에 별도 전원을 줄 수 없다면 USB로 Pixhawk에 전원넣기.
#. Q\_ESC_CAL 파라미터를 2로 설정하기
#. QSTABILIZE 모드로 변경
#. 출력을 활성화시키기 위해서 스위치를 off로 설정
#. 비행체 arming. 이제 모든 quad 모터에 PWM 출력이 최대가 된다.
#. 배터리를 연결해서 ESC에 전원 추가
#. 최대 PWM이 등록되었다는 것을 알리는 beep음이 날때까지 기다리기
#. 비행체 disarm 시키기
#. ESC에서 beep음이 들리면 쓰로틀 range가 등록되었다는 뜻이다.

Q\_ESC_CAL=1 을 사용하면 모터 반응 테스팅에 유용하다. 한번에 모든 모터의 쓰로틀 레벨을 직접 제어할 수 있는 유일한 방법이다. 이 모드에서 쓰로틀 레벨에 따른 모터 속도를 테스트 하기 위해서 laser tachometer를 사용할 수 있다.

.. warning:: 칼리브레이션을 마치면 :ref:`Q_ESC_CAL<Q_ESC_CAL>` 을 0으로 돌려놔야 일반 비행이 가능하다.
